<form [formGroup]="updateUserPassword" class="w-50 m-auto my-4 myForm">
    <h4 class="text-main mb-4">Update Your Password</h4>
    <!-- <div class="alert alert-danger" *ngIf="errMsg">
        <p class="m-0">{{errMsg}}</p>
    </div> -->
    <div class="showPassword">
        <input [type]="showcPassword == true?'text':'password'" placeholder="Current Password" formControlName="currentPassword"
            class="form-control"
            [class.err]="updateUserPassword.get('currentPassword')?.errors && updateUserPassword.get('currentPassword')?.touched">
        <i *ngIf="!showcPassword" (click)="showcPassword = true" class="fas fa-eye main-color cursor-pointer"></i>
        <i *ngIf="showcPassword" (click)="showcPassword = false" class="fas fa-eye-slash main-color cursor-pointer"></i>
    </div>
    <ul *ngIf="updateUserPassword.get('currentPassword')?.errors && updateUserPassword.get('currentPassword')?.touched">
        <li *ngIf="updateUserPassword.get('currentPassword')?.getError('required')">This feild is required</li>
    </ul>

    <div class="showPassword">
        <input [type]="showPassword == true?'text':'password'" placeholder="Password" formControlName="password"
            class="form-control"
            [class.err]="updateUserPassword.get('password')?.errors && updateUserPassword.get('password')?.touched">
        <i *ngIf="!showPassword" (click)="showPassword = true" class="fas fa-eye main-color cursor-pointer"></i>
        <i *ngIf="showPassword" (click)="showPassword = false" class="fas fa-eye-slash main-color cursor-pointer"></i>
    </div>
    <ul *ngIf="updateUserPassword.get('password')?.errors && updateUserPassword.get('password')?.touched">
        <li *ngIf="updateUserPassword.get('password')?.getError('required')">This feild is required</li>
        <li *ngIf="updateUserPassword.get('password')?.getError('pattern')">Password must have at least 8 char includs one of
            (special char, uppercase, number)</li>
    </ul>
    
    
    <div class="showPassword">
        <input [type]="showrePassword == true?'text':'password'" placeholder="Confirm Password" formControlName="rePassword"
            class="form-control"
            [class.err]="updateUserPassword.get('rePassword')?.errors && updateUserPassword.get('rePassword')?.touched">
        <i *ngIf="!showrePassword" (click)="showrePassword = true" class="fas fa-eye main-color cursor-pointer"></i>
        <i *ngIf="showrePassword" (click)="showrePassword = false" class="fas fa-eye-slash main-color cursor-pointer"></i>
    </div>
    <ul *ngIf="updateUserPassword.get('rePassword')?.errors && updateUserPassword.get('rePassword')?.touched">
        <li *ngIf="updateUserPassword.get('rePassword')?.getError('required')">This feild is required</li>
        <li *ngIf="updateUserPassword.get('rePassword')?.getError('repasswordMatch')">password and confirm password doesnt matched
        </li>
    </ul>
    <button [disabled]="updateUserPassword.invalid" class="btn text-white"
        (click)="confirmUpdatePassword(updateUserPassword)">
        <i class="fas fa-spinner fa-spin" *ngIf="isLoading"></i>
        Update
    </button>
</form>
<div class="card flex justify-content-center">
    <p-confirmDialog #cd>
        <ng-template pTemplate="headless" let-message>
            <div class="d-flex flex-column align-items-center p-5 surface-overlay border-round">
                <div class="border-circle bg-main inline-flex justify-content-center align-items-center h-6rem w-6rem">
                    <i class="fas fa-question text-5xl"></i>
                </div>
                <span class="font-bold text-2xl block mb-2 mt-4">
                    {{ message.header }}
                </span>
                <p class="mb-0">{{ message.message }}</p>
                <div class="d-flex align-items-center gap-2 mt-4">
                    <button pButton label="Yes, sure" (click)="cd.accept()" class="w-8rem">
                    </button>
                    <button pButton label="Cancel" (click)="cd.reject()" class="p-button-outlined w-8rem ">
                    </button>
                </div>
            </div>
        </ng-template>
    </p-confirmDialog>
</div>